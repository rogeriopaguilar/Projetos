CREATE DATABASE IF NOT EXISTS `dnsec` /*!40100 DEFAULT CHARACTER SET latin1 */;

USE dnsec;

-- MySQL dump 10.11
--
-- Host: localhost    Database: dnsec
-- ------------------------------------------------------
-- Server version	5.0.37

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `FUNCAO`
--

DROP TABLE IF EXISTS `FUNCAO`;
CREATE TABLE `FUNCAO` (
  `COD_FUNCAO_FUNC` bigint(20) NOT NULL,
  `COD_SISTEMA_SIST` varchar(255) NOT NULL,
  `NOME_FUNC` varchar(30) default NULL,
  `DESCR_FUNCAO_FUNC` varchar(255) default NULL,
  `COD_SISTEMA_PAI_FUNC` varchar(255) default NULL,
  `COD_FUNCAO_PAI_FUNC` bigint(20) default NULL,
  PRIMARY KEY  (`COD_FUNCAO_FUNC`,`COD_SISTEMA_SIST`),
  KEY `FK7C4581F21820A40B` (`COD_FUNCAO_PAI_FUNC`,`COD_SISTEMA_SIST`),
  KEY `FK7C4581F2731227D0` (`COD_SISTEMA_SIST`),
  CONSTRAINT `FK7C4581F21820A40B` FOREIGN KEY (`COD_FUNCAO_PAI_FUNC`, `COD_SISTEMA_SIST`) REFERENCES `FUNCAO` (`COD_FUNCAO_FUNC`, `COD_SISTEMA_SIST`),
  CONSTRAINT `FK7C4581F2731227D0` FOREIGN KEY (`COD_SISTEMA_SIST`) REFERENCES `SISTEMA` (`COD_SISTEMA_SIST`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `FUNCAO`
--

LOCK TABLES `FUNCAO` WRITE;
/*!40000 ALTER TABLE `FUNCAO` DISABLE KEYS */;
INSERT INTO `FUNCAO` VALUES (9999999,'SEC','incSistema',NULL,NULL,NULL),(10000000,'SEC','altSistema',NULL,NULL,NULL),(10000001,'SEC','excSistemas',NULL,NULL,NULL),(10000002,'SEC','incUsuario',NULL,NULL,NULL),(10000003,'SEC','altUsuario',NULL,NULL,NULL),(10000004,'SEC','excUsuario',NULL,NULL,NULL),(10000005,'SEC','incGrupo',NULL,NULL,NULL),(10000006,'SEC','altGrupo',NULL,NULL,NULL),(10000007,'SEC','excGrupo',NULL,NULL,NULL),(10000008,'SEC','incFuncao',NULL,NULL,NULL),(10000009,'SEC','altFuncao',NULL,NULL,NULL),(10000010,'SEC','excFuncao',NULL,NULL,NULL),(10000011,'SEC','altRelSistema',NULL,NULL,NULL),(10000012,'SEC','altRelUsuario',NULL,NULL,NULL),(10000013,'SEC','altRelGrupo',NULL,NULL,NULL),(10000014,'SEC','altRelFuncao',NULL,NULL,NULL),(10000015,'SEC','accTodosGrupos',NULL,NULL,NULL),(10000016,'SEC','accTodosUsuarios',NULL,NULL,NULL),(10000017,'SEC','accTodasFuncoes',NULL,NULL,NULL),(10000018,'SEC','accTodosSistemas',NULL,NULL,NULL);
/*!40000 ALTER TABLE `FUNCAO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `GRUPO`
--

DROP TABLE IF EXISTS `GRUPO`;
CREATE TABLE `GRUPO` (
  `COD_GRUPO_GRUP` varchar(255) NOT NULL,
  `DESCR_GRUPO_GRUP` varchar(255) NOT NULL,
  PRIMARY KEY  (`COD_GRUPO_GRUP`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `GRUPO`
--

LOCK TABLES `GRUPO` WRITE;
/*!40000 ALTER TABLE `GRUPO` DISABLE KEYS */;
INSERT INTO `GRUPO` VALUES ('DNSECADMIN','Grupo de usuários administradores');
/*!40000 ALTER TABLE `GRUPO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `GRUPO_FUNCAO`
--

DROP TABLE IF EXISTS `GRUPO_FUNCAO`;
CREATE TABLE `GRUPO_FUNCAO` (
  `COD_FUNCAO_FUNC` bigint(20) NOT NULL,
  `COD_SISTEMA_SIST` varchar(255) NOT NULL,
  `COD_GRUPO_GRUP` varchar(255) NOT NULL,
  PRIMARY KEY  (`COD_GRUPO_GRUP`,`COD_FUNCAO_FUNC`,`COD_SISTEMA_SIST`),
  KEY `FK717DB6A82F12803F` (`COD_GRUPO_GRUP`),
  KEY `FK717DB6A869D65FC4` (`COD_FUNCAO_FUNC`,`COD_SISTEMA_SIST`),
  CONSTRAINT `FK717DB6A82F12803F` FOREIGN KEY (`COD_GRUPO_GRUP`) REFERENCES `GRUPO` (`COD_GRUPO_GRUP`),
  CONSTRAINT `FK717DB6A869D65FC4` FOREIGN KEY (`COD_FUNCAO_FUNC`, `COD_SISTEMA_SIST`) REFERENCES `FUNCAO` (`COD_FUNCAO_FUNC`, `COD_SISTEMA_SIST`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `GRUPO_FUNCAO`
--

LOCK TABLES `GRUPO_FUNCAO` WRITE;
/*!40000 ALTER TABLE `GRUPO_FUNCAO` DISABLE KEYS */;
/*!40000 ALTER TABLE `GRUPO_FUNCAO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `GRUPO_SISTEMA`
--

DROP TABLE IF EXISTS `GRUPO_SISTEMA`;
CREATE TABLE `GRUPO_SISTEMA` (
  `COD_SISTEMA_SIST` varchar(255) NOT NULL,
  `COD_GRUPO_GRUP` varchar(255) NOT NULL,
  PRIMARY KEY  (`COD_GRUPO_GRUP`,`COD_SISTEMA_SIST`),
  KEY `FK59BE380C2F12803F` (`COD_GRUPO_GRUP`),
  KEY `FK59BE380C731227D0` (`COD_SISTEMA_SIST`),
  CONSTRAINT `FK59BE380C2F12803F` FOREIGN KEY (`COD_GRUPO_GRUP`) REFERENCES `GRUPO` (`COD_GRUPO_GRUP`),
  CONSTRAINT `FK59BE380C731227D0` FOREIGN KEY (`COD_SISTEMA_SIST`) REFERENCES `SISTEMA` (`COD_SISTEMA_SIST`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `GRUPO_SISTEMA`
--

LOCK TABLES `GRUPO_SISTEMA` WRITE;
/*!40000 ALTER TABLE `GRUPO_SISTEMA` DISABLE KEYS */;
/*!40000 ALTER TABLE `GRUPO_SISTEMA` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `GRUPO_USUARIO`
--

DROP TABLE IF EXISTS `GRUPO_USUARIO`;
CREATE TABLE `GRUPO_USUARIO` (
  `COD_GRUPO_GRUP` varchar(255) NOT NULL,
  `COD_USUARIO_USUA` varchar(30) NOT NULL,
  PRIMARY KEY  (`COD_USUARIO_USUA`,`COD_GRUPO_GRUP`),
  KEY `FKD4AEE1182F12803F` (`COD_GRUPO_GRUP`),
  KEY `FKD4AEE118408EFDC3` (`COD_USUARIO_USUA`),
  CONSTRAINT `FKD4AEE1182F12803F` FOREIGN KEY (`COD_GRUPO_GRUP`) REFERENCES `GRUPO` (`COD_GRUPO_GRUP`),
  CONSTRAINT `FKD4AEE118408EFDC3` FOREIGN KEY (`COD_USUARIO_USUA`) REFERENCES `USUARIO` (`COD_USUARIO_USUA`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `GRUPO_USUARIO`
--

LOCK TABLES `GRUPO_USUARIO` WRITE;
/*!40000 ALTER TABLE `GRUPO_USUARIO` DISABLE KEYS */;
/*!40000 ALTER TABLE `GRUPO_USUARIO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `SISTEMA`
--

DROP TABLE IF EXISTS `SISTEMA`;
CREATE TABLE `SISTEMA` (
  `COD_SISTEMA_SIST` varchar(255) NOT NULL,
  `DESCR_SISTEMA_SIST` varchar(30) NOT NULL,
  `COND_CADASTRAR_SIST` varchar(1) default NULL,
  `NOME_BANCO_SIST` varchar(20) default NULL,
  `NOME_SERVIDOR_SIST` varchar(25) default NULL,
  `TIPO_BANCO_SIST` varchar(15) NOT NULL,
  `NOME_PROPRIETARIO_SIST` varchar(30) default NULL,
  `NOME_ANALISTA_RESP_SIST` varchar(20) default NULL,
  PRIMARY KEY  (`COD_SISTEMA_SIST`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `SISTEMA`
--

LOCK TABLES `SISTEMA` WRITE;
/*!40000 ALTER TABLE `SISTEMA` DISABLE KEYS */;
INSERT INTO `SISTEMA` VALUES ('SEC','Controle de segurança','S','MYSQL','SERVIDOR','MYSQL','DNSEC_ADMIN','DNSEC_ADMIN');
/*!40000 ALTER TABLE `SISTEMA` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TIPOS_BANCO`
--

DROP TABLE IF EXISTS `TIPOS_BANCO`;
CREATE TABLE `TIPOS_BANCO` (
  `COD_TIPO_BANCO` varchar(50) NOT NULL,
  PRIMARY KEY  (`COD_TIPO_BANCO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `TIPOS_BANCO`
--

LOCK TABLES `TIPOS_BANCO` WRITE;
/*!40000 ALTER TABLE `TIPOS_BANCO` DISABLE KEYS */;
INSERT INTO `TIPOS_BANCO` VALUES ('MYSQL'),('ORACLE'),('SQL-SERVER');
/*!40000 ALTER TABLE `TIPOS_BANCO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `USUARIO`
--

DROP TABLE IF EXISTS `USUARIO`;
CREATE TABLE `USUARIO` (
  `COD_USUARIO_USUA` varchar(30) NOT NULL,
  `NUM_CHAPA_FUNC` bigint(20) default NULL,
  `NOME_USUARIO_USUA` varchar(30) default NULL,
  `COD_SENHA_USUA` varchar(30) default NULL,
  `DATA_INCLUSAO_USUA` datetime default NULL,
  `DATA_ULT_ACESSO_USUA` datetime default NULL,
  `DATA_ULT_ALT_SENHA_USUA` datetime default NULL,
  `NUM_DIAS_VALIDADE_SENHA_USUA` bigint(20) default NULL,
  `QTDE_ERROS_LOGIN_USUA` bigint(20) default NULL,
  `COND_ALT_SENHA_USUA` varchar(1) default NULL,
  `NUM_TELEFONE_USUA` varchar(18) default NULL,
  `COD_EMAIL_USUA` varchar(40) default NULL,
  `COND_BLOQUEADO_USUA` varchar(1) default NULL,
  `COD_USUARIO_ADABAS_USUA` varchar(8) default NULL,
  `DATA_SOLIC_NOVA_SENHA` datetime default NULL,
  PRIMARY KEY  (`COD_USUARIO_USUA`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `USUARIO`
--

LOCK TABLES `USUARIO` WRITE;
/*!40000 ALTER TABLE `USUARIO` DISABLE KEYS */;
INSERT INTO `USUARIO` VALUES ('DNSEC_ADMIN',NULL,'DNSEC_ADMIN','3ZRwlSi7HIPQjzCI1AQ/R0KJH08=','2007-10-15 21:29:31',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `USUARIO` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2007-10-16  0:32:59
